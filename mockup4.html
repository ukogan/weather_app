<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>Mockup 4: Minimalist Cards - 48 Hour Weather</title>
  <style>
    :root {
      --background: #0e0b20;
      --foreground: #f5f5f7;
      --secondary: rgba(255, 255, 255, 0.72);
      --panel-bg: rgba(28, 26, 45, 0.9);
      --panel-border: rgba(255, 255, 255, 0.1);
      --accent: #64b5ff;
      font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      background: linear-gradient(180deg, #17132f 0%, #0e0b20 100%);
      color: var(--foreground);
      min-height: 100vh;
      padding: 20px 0;
    }

    .container {
      max-width: 428px;
      margin: 0 auto;
    }

    .header {
      padding: 0 20px;
      margin-bottom: 24px;
    }

    h1 {
      font-size: 28px;
      font-weight: 600;
      margin-bottom: 8px;
      letter-spacing: -0.02em;
    }

    .subtitle {
      color: var(--secondary);
      font-size: 14px;
    }

    /* Current Conditions Card */
    .current-card {
      margin: 0 20px 24px;
      background: var(--panel-bg);
      backdrop-filter: blur(24px);
      border: 1px solid var(--panel-border);
      border-radius: 20px;
      padding: 20px;
      position: relative;
      overflow: hidden;
    }

    .current-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #64b5ff, #66bb6a, #ffeb3b, #ef5350);
    }

    .current-main {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }

    .current-temp {
      font-size: 64px;
      font-weight: 200;
      line-height: 1;
    }

    .current-details {
      text-align: right;
    }

    .current-condition {
      font-size: 18px;
      margin-bottom: 4px;
    }

    .current-feels {
      font-size: 14px;
      color: var(--secondary);
    }

    .current-metrics {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      padding-top: 16px;
      border-top: 1px solid rgba(255, 255, 255, 0.08);
    }

    .current-metric {
      text-align: center;
    }

    .metric-value {
      font-size: 16px;
      font-weight: 500;
      margin-bottom: 2px;
    }

    .metric-label {
      font-size: 11px;
      color: var(--secondary);
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    /* Time Period Selector */
    .period-selector {
      display: flex;
      gap: 8px;
      margin: 0 20px 20px;
    }

    .period-button {
      flex: 1;
      padding: 10px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      color: var(--secondary);
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      text-align: center;
    }

    .period-button.active {
      background: rgba(100, 181, 255, 0.2);
      border-color: var(--accent);
      color: var(--accent);
    }

    /* Cards Container */
    .cards-container {
      padding: 0 20px;
      margin-bottom: 20px;
    }

    .cards-scroll {
      display: flex;
      gap: 12px;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      scroll-behavior: smooth;
      padding-bottom: 8px;
      -webkit-overflow-scrolling: touch;
      margin: 0 -20px;
      padding: 0 20px;
    }

    .cards-scroll::-webkit-scrollbar {
      height: 4px;
    }

    .cards-scroll::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 2px;
    }

    .cards-scroll::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.2);
      border-radius: 2px;
    }

    /* Weather Card */
    .weather-card {
      flex-shrink: 0;
      width: 160px;
      background: var(--panel-bg);
      border: 1px solid var(--panel-border);
      border-radius: 16px;
      padding: 16px;
      scroll-snap-align: start;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .weather-card:hover {
      transform: scale(1.02);
      border-color: rgba(255, 255, 255, 0.2);
    }

    .weather-card.expanded {
      width: 280px;
    }

    .card-gradient {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      opacity: 0.15;
      transition: opacity 0.3s ease;
      pointer-events: none;
    }

    .weather-card:hover .card-gradient {
      opacity: 0.25;
    }

    .card-content {
      position: relative;
      z-index: 1;
    }

    .card-header {
      margin-bottom: 12px;
    }

    .card-period {
      font-size: 11px;
      color: var(--secondary);
      text-transform: uppercase;
      letter-spacing: 0.1em;
      margin-bottom: 4px;
    }

    .card-time {
      font-size: 18px;
      font-weight: 600;
    }

    .card-temp {
      font-size: 42px;
      font-weight: 200;
      margin: 8px 0;
    }

    .card-metrics {
      display: flex;
      gap: 16px;
      margin-top: 12px;
      padding-top: 12px;
      border-top: 1px solid rgba(255, 255, 255, 0.08);
    }

    .card-metric {
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .card-metric-icon {
      width: 16px;
      height: 16px;
      opacity: 0.7;
    }

    .card-metric-value {
      font-size: 13px;
      font-weight: 500;
    }

    /* Expanded Card Details */
    .card-expanded-details {
      display: none;
      margin-top: 16px;
      padding-top: 16px;
      border-top: 1px solid rgba(255, 255, 255, 0.08);
    }

    .weather-card.expanded .card-expanded-details {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .expanded-metric {
      display: flex;
      justify-content: space-between;
      font-size: 13px;
    }

    .expanded-label {
      color: var(--secondary);
    }

    .expanded-value {
      font-weight: 500;
    }

    /* Scroll Indicator */
    .scroll-indicator {
      text-align: center;
      margin: 20px 0;
      color: var(--secondary);
      font-size: 12px;
    }

    .scroll-dots {
      display: flex;
      justify-content: center;
      gap: 6px;
      margin-top: 8px;
    }

    .scroll-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.2);
      transition: all 0.3s ease;
    }

    .scroll-dot.active {
      width: 20px;
      border-radius: 3px;
      background: var(--accent);
    }

    /* Summary Panel */
    .summary-panel {
      margin: 0 20px;
      background: var(--panel-bg);
      border-radius: 16px;
      padding: 16px;
    }

    .summary-title {
      font-size: 14px;
      letter-spacing: 0.1em;
      color: var(--secondary);
      margin-bottom: 12px;
    }

    .summary-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }

    .summary-item {
      padding: 12px;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 10px;
      text-align: center;
    }

    .summary-value {
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 2px;
    }

    .summary-label {
      font-size: 11px;
      color: var(--secondary);
    }

    /* UX Notes */
    .ux-notes {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 16px;
      margin: 20px;
    }

    .ux-notes h3 {
      font-size: 14px;
      margin-bottom: 8px;
      color: var(--accent);
    }

    .ux-notes ul {
      font-size: 13px;
      color: var(--secondary);
      line-height: 1.6;
      padding-left: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Weather Cards</h1>
      <p class="subtitle">San Carlos, CA • Minimalist View</p>
    </div>

    <!-- Current Conditions -->
    <div class="current-card">
      <div class="current-main">
        <div class="current-temp">68°</div>
        <div class="current-details">
          <div class="current-condition">Partly Cloudy</div>
          <div class="current-feels">Feels like 65°</div>
        </div>
      </div>
      <div class="current-metrics">
        <div class="current-metric">
          <div class="metric-value">12%</div>
          <div class="metric-label">Precip</div>
        </div>
        <div class="current-metric">
          <div class="metric-value">8 mph</div>
          <div class="metric-label">Wind</div>
        </div>
        <div class="current-metric">
          <div class="metric-value">65%</div>
          <div class="metric-label">Humidity</div>
        </div>
      </div>
    </div>

    <!-- Period Selector -->
    <div class="period-selector">
      <div class="period-button active" data-period="3">3 Hours</div>
      <div class="period-button" data-period="6">6 Hours</div>
      <div class="period-button" data-period="12">12 Hours</div>
    </div>

    <!-- Cards Container -->
    <div class="cards-container">
      <div class="cards-scroll" id="cardsScroll"></div>
    </div>

    <!-- Scroll Indicator -->
    <div class="scroll-indicator">
      <span>Swipe for more →</span>
      <div class="scroll-dots" id="scrollDots"></div>
    </div>

    <!-- Summary Panel -->
    <div class="summary-panel">
      <h2 class="summary-title">48 HOUR SUMMARY</h2>
      <div class="summary-grid">
        <div class="summary-item">
          <div class="summary-value">72°</div>
          <div class="summary-label">Peak Temp</div>
        </div>
        <div class="summary-item">
          <div class="summary-value">54°</div>
          <div class="summary-label">Low Temp</div>
        </div>
        <div class="summary-item">
          <div class="summary-value">35%</div>
          <div class="summary-label">Max Precip</div>
        </div>
        <div class="summary-item">
          <div class="summary-value">15 mph</div>
          <div class="summary-label">Max Wind</div>
        </div>
      </div>
    </div>

    <!-- UX Notes -->
    <div class="ux-notes">
      <h3>UX Interaction Patterns</h3>
      <ul>
        <li><strong>Time Blocks:</strong> Cards represent 3, 6, or 12-hour periods based on selection</li>
        <li><strong>Gradient Backgrounds:</strong> Each card has a temperature-based gradient</li>
        <li><strong>Key Metrics:</strong> Temperature prominent, precipitation and wind secondary</li>
        <li><strong>Tap to Expand:</strong> Cards expand to show full hourly details</li>
        <li><strong>Horizontal Scroll:</strong> Swipe through time periods naturally</li>
        <li><strong>Visual Temperature:</strong> Background gradient intensity shows temperature</li>
        <li><strong>Minimalist Design:</strong> Focus on essential information, hide complexity</li>
        <li><strong>Progressive Disclosure:</strong> More details appear only when needed</li>
      </ul>
    </div>
  </div>

  <script>
    // Temperature color function
    function getTemperatureColor(temp) {
      const TEMP_MIN = -20;
      const TEMP_MAX = 120;
      const normalized = Math.max(0, Math.min(1, (temp - TEMP_MIN) / (TEMP_MAX - TEMP_MIN)));

      const stops = [
        { pos: 0.00, color: [255, 255, 255] },
        { pos: 0.14, color: [147, 112, 219] },
        { pos: 0.29, color: [100, 181, 246] },
        { pos: 0.43, color: [102, 187, 106] },
        { pos: 0.57, color: [255, 235, 59] },
        { pos: 0.71, color: [239, 83, 80] },
        { pos: 1.00, color: [136, 14, 79] }
      ];

      let lower = stops[0];
      let upper = stops[stops.length - 1];

      for (let i = 0; i < stops.length - 1; i++) {
        if (normalized >= stops[i].pos && normalized <= stops[i + 1].pos) {
          lower = stops[i];
          upper = stops[i + 1];
          break;
        }
      }

      const range = upper.pos - lower.pos;
      const factor = range === 0 ? 0 : (normalized - lower.pos) / range;

      const r = Math.round(lower.color[0] + (upper.color[0] - lower.color[0]) * factor);
      const g = Math.round(lower.color[1] + (upper.color[1] - lower.color[1]) * factor);
      const b = Math.round(lower.color[2] + (upper.color[2] - lower.color[2]) * factor);

      return `rgb(${r}, ${g}, ${b})`;
    }

    // Generate weather data
    function generateWeatherData() {
      const data = [];
      const baseTime = new Date();
      baseTime.setMinutes(0, 0, 0);

      for (let i = 0; i < 48; i++) {
        const time = new Date(baseTime.getTime() + i * 3600000);
        const hour = time.getHours();

        const dayProgress = (hour - 6) / 12;
        const tempBase = 60 + Math.sin(dayProgress * Math.PI) * 12;
        const temp = tempBase + (Math.random() - 0.5) * 8;

        const precipBase = hour >= 4 && hour <= 8 ? 40 : 15;
        const precip = Math.max(0, Math.min(100, precipBase + (Math.random() - 0.5) * 30));

        const windSpeed = 5 + Math.random() * 15;
        const windDir = Math.floor(Math.random() * 360);
        const clouds = Math.max(0, Math.min(100, 30 + (Math.random() - 0.5) * 40));
        const humidity = (hour >= 20 || hour <= 6 ? 75 : 55) + Math.round((Math.random() - 0.5) * 10);

        data.push({
          time,
          temp: Math.round(temp),
          feelsLike: Math.round(temp + (Math.random() - 0.5) * 5),
          precip: Math.round(precip),
          windSpeed: Math.round(windSpeed),
          windDir,
          clouds: Math.round(clouds),
          humidity,
          dewPoint: Math.round(temp - 15),
          pressure: 1013 + Math.round((Math.random() - 0.5) * 10),
          visibility: 10 - Math.round(Math.random() * 3)
        });
      }

      return data;
    }

    const weatherData = generateWeatherData();
    let currentPeriod = 3;

    // Create weather cards
    function createCards(periodHours) {
      const container = document.getElementById('cardsScroll');
      container.innerHTML = '';

      const periods = Math.ceil(48 / periodHours);
      const dotsContainer = document.getElementById('scrollDots');
      dotsContainer.innerHTML = '';

      for (let i = 0; i < periods; i++) {
        const startHour = i * periodHours;
        const endHour = Math.min(startHour + periodHours, 48);
        const periodData = weatherData.slice(startHour, endHour);

        // Calculate period stats
        const avgTemp = Math.round(periodData.reduce((sum, d) => sum + d.temp, 0) / periodData.length);
        const maxTemp = Math.max(...periodData.map(d => d.temp));
        const minTemp = Math.min(...periodData.map(d => d.temp));
        const maxPrecip = Math.max(...periodData.map(d => d.precip));
        const avgWind = Math.round(periodData.reduce((sum, d) => sum + d.windSpeed, 0) / periodData.length);

        const card = document.createElement('div');
        card.className = 'weather-card';
        card.dataset.period = i;

        const startTime = periodData[0].time;
        const endTime = periodData[periodData.length - 1].time;

        const periodLabel = getPeriodLabel(startTime, endTime, periodHours);
        const timeStr = formatTimeRange(startTime, endTime, periodHours);

        // Create gradient background
        const gradientDiv = document.createElement('div');
        gradientDiv.className = 'card-gradient';
        gradientDiv.style.background = `linear-gradient(135deg,
          ${getTemperatureColor(minTemp)}22,
          ${getTemperatureColor(avgTemp)}33,
          ${getTemperatureColor(maxTemp)}22)`;

        card.innerHTML = `
          ${gradientDiv.outerHTML}
          <div class="card-content">
            <div class="card-header">
              <div class="card-period">${periodLabel}</div>
              <div class="card-time">${timeStr}</div>
            </div>
            <div class="card-temp" style="color: ${getTemperatureColor(avgTemp)}">${avgTemp}°</div>
            <div class="card-metrics">
              <div class="card-metric">
                <svg class="card-metric-icon" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4M7,13H17V11H7V13Z"/>
                </svg>
                <span class="card-metric-value">${maxPrecip}%</span>
              </div>
              <div class="card-metric">
                <svg class="card-metric-icon" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M4,10A2,2 0 0,1 2,8A2,2 0 0,1 4,6H12A1,1 0 0,0 13,5A1,1 0 0,0 12,4C11.45,4 11,3.55 11,3C11,2.45 11.45,2 12,2A3,3 0 0,1 15,5A3,3 0 0,1 12,8H4M19,12A2,2 0 0,1 17,10H6A2,2 0 0,1 8,12A2,2 0 0,1 6,14H17A2,2 0 0,1 19,12M18,18H4A2,2 0 0,1 2,20A2,2 0 0,1 4,22H18A3,3 0 0,0 21,19A3,3 0 0,0 18,16C17.45,16 17,16.45 17,17C17,17.55 17.45,18 18,18Z"/>
                </svg>
                <span class="card-metric-value">${avgWind} mph</span>
              </div>
            </div>
            <div class="card-expanded-details">
              <div class="expanded-metric">
                <span class="expanded-label">High</span>
                <span class="expanded-value">${maxTemp}°</span>
              </div>
              <div class="expanded-metric">
                <span class="expanded-label">Low</span>
                <span class="expanded-value">${minTemp}°</span>
              </div>
              <div class="expanded-metric">
                <span class="expanded-label">Humidity</span>
                <span class="expanded-value">${Math.round(periodData.reduce((sum, d) => sum + d.humidity, 0) / periodData.length)}%</span>
              </div>
              <div class="expanded-metric">
                <span class="expanded-label">Pressure</span>
                <span class="expanded-value">${periodData[0].pressure} mb</span>
              </div>
              <div class="expanded-metric">
                <span class="expanded-label">Visibility</span>
                <span class="expanded-value">${periodData[0].visibility} mi</span>
              </div>
              <div class="expanded-metric">
                <span class="expanded-label">Dew Point</span>
                <span class="expanded-value">${Math.round(periodData.reduce((sum, d) => sum + d.dewPoint, 0) / periodData.length)}°</span>
              </div>
            </div>
          </div>
        `;

        // Add click handler
        card.addEventListener('click', () => {
          const isExpanded = card.classList.contains('expanded');
          document.querySelectorAll('.weather-card').forEach(c => c.classList.remove('expanded'));
          if (!isExpanded) {
            card.classList.add('expanded');
            setTimeout(() => {
              card.scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });
            }, 100);
          }
        });

        container.appendChild(card);

        // Create scroll dot
        const dot = document.createElement('div');
        dot.className = 'scroll-dot';
        if (i === 0) dot.classList.add('active');
        dotsContainer.appendChild(dot);
      }
    }

    // Get period label
    function getPeriodLabel(startTime, endTime, hours) {
      const now = new Date();
      const startDay = startTime.toDateString();
      const nowDay = now.toDateString();

      if (startDay === nowDay && startTime.getHours() <= now.getHours() && endTime.getHours() >= now.getHours()) {
        return 'CURRENT';
      }

      const tomorrow = new Date(now);
      tomorrow.setDate(tomorrow.getDate() + 1);

      if (startDay === nowDay) return 'TODAY';
      if (startDay === tomorrow.toDateString()) return 'TOMORROW';

      const dayName = startTime.toLocaleDateString('en-US', { weekday: 'short' }).toUpperCase();
      return dayName;
    }

    // Format time range
    function formatTimeRange(startTime, endTime, hours) {
      if (hours <= 6) {
        const start = startTime.toLocaleTimeString('en-US', { hour: 'numeric', hour12: true });
        const end = endTime.toLocaleTimeString('en-US', { hour: 'numeric', hour12: true });
        return `${start} - ${end}`;
      } else {
        const start = startTime.toLocaleTimeString('en-US', { hour: 'numeric', hour12: true });
        return start;
      }
    }

    // Period selector
    document.querySelectorAll('.period-button').forEach(button => {
      button.addEventListener('click', () => {
        document.querySelectorAll('.period-button').forEach(b => b.classList.remove('active'));
        button.classList.add('active');
        currentPeriod = parseInt(button.dataset.period);
        createCards(currentPeriod);
      });
    });

    // Scroll indicator update
    const scrollContainer = document.getElementById('cardsScroll');
    scrollContainer.addEventListener('scroll', () => {
      const scrollLeft = scrollContainer.scrollLeft;
      const cardWidth = 172; // 160px + 12px gap
      const currentCard = Math.round(scrollLeft / cardWidth);

      document.querySelectorAll('.scroll-dot').forEach((dot, index) => {
        dot.classList.toggle('active', index === currentCard);
      });
    });

    // Initialize
    createCards(currentPeriod);

    // Update current card
    const currentTemp = weatherData[0].temp;
    document.querySelector('.current-temp').textContent = `${currentTemp}°`;
    document.querySelector('.current-temp').style.color = getTemperatureColor(currentTemp);
  </script>
</body>
</html>